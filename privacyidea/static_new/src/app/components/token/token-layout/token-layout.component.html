<div aria-label="Token Layout" class="token-layout">
  @if (!overflowService.isOverflowing('.token-layout',
  1880)) {
  <app-token-card class="margin-right-1" [active]="tokenIsActive" [states]="states"
    [refreshTokenDetails]="refreshTokenDetails" [refreshContainerDetails]="refreshContainerDetails" [revoked]="revoked"
    [tokenSerial]="tokenSerial" [containerSerial]="containerSerial" [isProgrammaticChange]="isProgrammaticChange"
    [selectedPage]="selectedPage">
  </app-token-card>
  }
  <mat-drawer-container>
    @if (overflowService.isOverflowing('.token-layout',
    1880)) {
    <mat-drawer #drawer [mode]="'over'" class="token-drawer">
      <app-token-card class="margin-right-1" [active]="tokenIsActive" [states]="states"
        [refreshTokenDetails]="refreshTokenDetails" [refreshContainerDetails]="refreshContainerDetails"
        [revoked]="revoked" [tokenSerial]="tokenSerial" [containerSerial]="containerSerial"
        [isProgrammaticChange]="isProgrammaticChange" [selectedPage]="selectedPage">
      </app-token-card>
    </mat-drawer>
    }
    <mat-drawer-content>
      <div class="drawer-content-div">
        @if (overflowService.isOverflowing('.token-layout',
        1880)) {
        <div class="drawer-button-div">
          <button mat-icon-button (click)="drawer.toggle()" class="drawer-button">
            <mat-icon>keyboard_arrow_right
            </mat-icon>
          </button>
        </div>
        }
        <main>
          <div class="main-margin">
            @switch (selectedPage()) {
            @case ( "token_overview") {
            <app-token-table [tokenSerial]="tokenSerial" [selectedPage]="selectedPage">
            </app-token-table>
            }
            @case ( "token_details") {
            <app-token-details #tokenDetailsComponent [tokenSerial]="tokenSerial" [active]="tokenIsActive"
              [revoked]="revoked" [refreshTokenDetails]="refreshTokenDetails" [containerSerial]="containerSerial"
              [selectedPage]="selectedPage">
            </app-token-details>
            }
            @case ( "container_overview") {
            <app-container-table [containerSerial]="containerSerial" [selectedPage]="selectedPage" />
            }
            @case ( "container_details") {
            <app-container-details #containerDetailsComponent [containerSerial]="containerSerial"
              [tokenSerial]="tokenSerial" [states]="states" [refreshContainerDetails]="refreshContainerDetails"
              [selectedPage]="selectedPage">

            </app-container-details>
            }

            }
          </div>
        </main>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>